# fly.toml app configuration file generated for ente on 2024-07-03T22:35:02+02:00
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#

app = 'ente'
primary_region = 'ams'

[build]

[http_service]
internal_port = 8080
force_https = true
auto_stop_machines = true
auto_start_machines = true
min_machines_running = 0
processes = ['app']

[[vm]]
size = 'shared-cpu-1x'

[env]
ENTE_HTTP_USE-TLS = "false"
ENTE_APPS_PUBLIC-ALBUMS = "https://albums.kanz.pictures"

ENTE_DB_PORT = "5432"
ENTE_DB_NAME = "postgres"
ENTE_DB_SSLMODE = "require"
ENTE_DB_USER = "postgres"

# Moved to production.yml because of naming conflict with viper
# ENTE_S3_HOT_STORAGE_PRIMARY = "b2-eu-cen"
# ENTE_S3_HOT_STORAGE_SECONDARY = "b2-eu-cen"

ENTE_S3_B2-EU-CEN_ENDPOINT = "s3.eu-central-003.backblazeb2.com"
ENTE_S3_B2-EU-CEN_REGION = "eu-central-003"
ENTE_S3_B2-EU-CEN_BUCKET = "ente-photos-sohaib-ly"

ENTE_S3_WASABI-EU-CENTRAL-2-DERIVED_ENDPOINT = "s3.eu-central-003.backblazeb2.com"
ENTE_S3_WASABI-EU-CENTRAL-2-DERIVED_REGION = "eu-central-003"
ENTE_S3_WASABI-EU-CENTRAL-2-DERIVED_BUCKET = "ente-mldata-sohaib-ly"

ENTE_S3_DERIVED-STORAGE = 'wasabi-eu-central-2-derived'

ENTE_SMTP_HOST = "smtp.resend.com"
ENTE_SMTP_PORT = "587"
ENTE_SMTP_USERNAME = "resend"
ENTE_SMTP_EMAIL = "no-reply@emails.kanz.pictures"
